webpackJsonp([1],{136:function(t,e,a){var n=a(4)(a(187),a(367),null,null);t.exports=n.exports},150:function(t,e,a){"use strict";var n=a(7),r=a(373),i=a(352),o=a.n(i),s=a(351),l=a.n(s),c=a(354),d=a.n(c),u=a(353),p=a.n(u),f=a(350),h=a.n(f);n.default.use(r.a),e.a=new r.a({mode:"history",routes:[{path:"/",redirect:{name:"proxies"}},{path:"/proxies",name:"proxies",component:o.a,meta:{title:"代理列表",navbar_active:"proxies"}},{path:"/proxies/add",name:"proxies-add",component:l.a,meta:{title:"添加代理",navbar_active:"proxies"}},{path:"/proxies/:proxy_id/edit",name:"proxies-edit",component:l.a,meta:{title:"编辑代理",navbar_active:"proxies"}},{path:"/users",name:"users",component:d.a,meta:{title:"用户管理",navbar_active:"users"}},{path:"/stats",name:"stats",component:p.a,meta:{title:"统计分析",navbar_active:"stats"}},{path:"/logs",name:"logs",component:h.a,meta:{title:"日志分析",navbar_active:"logs"}}]})},151:function(t,e,a){"use strict";var n=a(7),r=a(31);n.default.use(r.b),e.a=new r.b.Store({state:{profile:{},config:{}},getters:{getProfile:function(t){return t.profile},getConfig:function(t){return t.config}},mutations:{setProfile:function(t,e){t.profile=e},setConfig:function(t,e){t.config=e}},actions:{setProfile:function(t,e){(0,t.commit)("setProfile",e)},setConfig:function(t,e){(0,t.commit)("setConfig",e)}}})},152:function(t,e,a){var n=a(4)(a(177),a(365),null,null);t.exports=n.exports},16:function(t,e,a){"use strict";var n=a(199),r=a.n(n),i=a(195),o=a.n(i),s=a(375),l=(a.n(s),a(339)),c=a.n(l),d=a(59),u=a.n(d),p=a(98),f=(a.n(p),function(t){var e=u.a.assign({state:location.href,usertype:"admin"},t);return"https://qy.weixin.qq.com/cgi-bin/loginpage"+c.a.format({query:e})}),h=function(t,e){switch(t){case 401:return location.href=f(e.extra),!0;default:return p.Message.error({message:e.message,duration:5e3}),!1}};e.a=function(t,e){e=e||{},e.method=e.method||"GET",e.credentials="same-origin",-1!==["POST","PUT"].indexOf(e.method.toUpperCase())&&(e.headers=e.headers||{},e.headers["Content-Type"]="application/json",e.body&&"string"!=typeof body&&(e.body=o()(e.body))),t+=c.a.format({query:e.query}),e.query=void 0;var a=void 0,n=void 0;return fetch(t,e).then(function(t){return a=t.status,t.json()}).then(function(t){if(n=t,a>=400)throw new Error(n.message);return{status:a,data:n}}).catch(function(t){throw"object"!==(void 0===n?"undefined":r()(n))&&(n={message:t.message}),h(a,n),t})}},17:function(t,e){e.isDomain=function(t){return/^([a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/.test(t)},e.isIP=function(t){return/^(?:(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))$/.test(t)},e.isPort=function(t){return t&&t>=0&&t<=65535},e.getDiffDays=function(t,e){return e=e||new Date,Math.floor((e.getTime()-t.getTime())/864e5)},e.getColors=function(){return["rgba(54, 162, 235, 0.8)","rgba(255, 99, 132, 0.8)","rgba(255, 206, 86, 0.8)","rgba(75, 192, 192, 0.8)","rgba(19, 206, 102, 0.8)","rgba(255, 159, 64, 0.8)"]}},175:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(7),r=a(98),i=a.n(r),o=a(152),s=a.n(o),l=a(150),c=a(151);n.default.config.productionTip=!1,n.default.use(i.a);l.a.beforeEach(function(t,e,a){document.title=t.meta.title+" - 简易反向代理",a()}),new n.default({el:"#app",store:c.a,router:l.a,template:"<App/>",components:{App:s.a}})},176:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(198),r=a.n(n),i=a(1),o=a.n(i),s=a(334),l=a.n(s),c=a(7),d=["legendselectchanged","legendselected","legendunselected","datazoom","datarangeselected","timelinechanged","timelineplaychanged","restore","dataviewchanged","magictypechanged","geoselectchanged","geoselected","geounselected","pieselectchanged","pieselected","pieunselected","mapselectchanged","mapselected","mapunselected","axisareaselected","brush","brushselected"],u=["click","dblclick","mouseover","mouseout","mousedown","mouseup","globalout"];e.default={props:{options:Object,theme:String,initOptions:Object,group:String,autoResize:Boolean},data:function(){return{chart:null}},computed:{width:{cache:!1,get:function(){return this.chart.getWidth()}},height:{cache:!1,get:function(){return this.chart.getHeight()}},isDisposed:{cache:!1,get:function(){return this.chart.isDisposed()}}},watch:{options:{handler:function(t){!this.chart&&t?this._init():this.chart.setOption(this.options,!0)},deep:!0},group:{handler:function(t){this.chart.group=t}}},methods:{mergeOptions:function(t){this._delegateMethod("setOption",t)},resize:function(t){this._delegateMethod("resize",t)},dispatchAction:function(t){this._delegateMethod("dispatchAction",t)},convertToPixel:function(t,e){return this._delegateMethod("convertToPixel",t,e)},convertFromPixel:function(t,e){return this._delegateMethod("convertFromPixel",t,e)},containPixel:function(t,e){return this._delegateMethod("containPixel",t,e)},showLoading:function(t,e){this._delegateMethod("showLoading",t,e)},hideLoading:function(){this._delegateMethod("hideLoading")},getDataURL:function(t){return this._delegateMethod("getDataURL",t)},getConnectedDataURL:function(t){return this._delegateMethod("getConnectedDataURL",t)},clear:function(){this._delegateMethod("clear")},dispose:function(){this._delegateMethod("dispose")},_delegateMethod:function(t){var e;if(!this.chart)return void c.default.util.warn("Cannot call ["+t+"] before the chart is initialized. Set prop [options] first.",this);for(var a=arguments.length,n=Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];return(e=this.chart)[t].apply(e,r()(n))},_init:function(){var t=this;if(!this.chart){var e=o.a.init(this.$el,this.theme,this.initOptions);this.group&&(e.group=this.group),e.setOption(this.options,!0),d.forEach(function(a){e.on(a,function(e){t.$emit(a,e)})}),u.forEach(function(a){e.on(a,function(e){t.$emit(a,e),t.$emit("chart"+a,e)})}),this.autoResize&&(this.__resizeHanlder=l()(function(){e.resize()},100,{leading:!0}),window.addEventListener("resize",this.__resizeHanlder)),this.chart=e}}},mounted:function(){this.options&&this._init()},beforeDestroy:function(){this.chart&&(this.autoResize&&window.removeEventListener("resize",this.__resizeHanlder),this.dispose())},connect:function(t){"string"!=typeof t&&(t=t.map(function(t){return t.chart})),o.a.connect(t)},disconnect:function(t){o.a.disConnect(t)},registerMap:function(){o.a.registerMap.apply(o.a,arguments)},registerTheme:function(){o.a.registerTheme.apply(o.a,arguments)}}},177:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(318),r=(a.n(n),a(59)),i=(a.n(r),a(31)),o=a(16),s=a(349),l=a.n(s);e.default={components:{Navbar:l.a},computed:a.i(i.a)(["profile","config"]),created:function(){this.fetchProfile(),this.fetchConfig()},methods:{fetchProfile:function(){var t=this;if(!a.i(r.isEmpty)(this.profile))return!0;a.i(o.a)("/api/profile").then(function(e){t.$store.dispatch("setProfile",e.data)})},fetchConfig:function(){var t=this;if(!a.i(r.isEmpty)(this.config))return!0;a.i(o.a)("/api/config").then(function(e){t.$store.dispatch("setConfig",e.data)})}}}},178:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(11),r=a.n(n),i=a(24),o=a.n(i),s=a(36),l=(a.n(s),a(22)),c=(a.n(l),a(23)),d=(a.n(c),a(17));a.n(d);e.default={props:["data","loading"],components:{ECharts:o.a},data:function(){return{option:null}},created:function(){this.update()},methods:{update:function(){if(this.loading)return!1;var t=[],e=!0,n=!1,i=void 0;try{for(var o,s=r()(this.data);!(e=(o=s.next()).done);e=!0){var l=o.value;"UNKNOWN"!==l.name&&t.push({value:l.count,name:l.name+" "+l.version})}}catch(t){n=!0,i=t}finally{try{!e&&s.return&&s.return()}finally{if(n)throw i}}t.sort(function(t,e){return e.value-t.value}),t.length||t.push({value:1,name:"暂无数据"}),this.option={title:{text:"浏览器占比",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} 次 ({d}%)"},color:a.i(d.getColors)(),series:[{name:"访问来源",type:"pie",radius:"50%",center:["50%","60%"],data:t.slice(0,30),itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}},watch:{data:function(){this.update()}}}},179:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(11),r=a.n(n),i=a(24),o=a.n(i),s=a(36),l=(a.n(s),a(22)),c=(a.n(l),a(23)),d=(a.n(c),a(17));a.n(d);e.default={props:["data","loading"],components:{ECharts:o.a},data:function(){return{option:null}},created:function(){this.update()},methods:{update:function(){if(this.loading)return!1;var t=[],e=!0,n=!1,i=void 0;try{for(var o,s=r()(this.data);!(e=(o=s.next()).done);e=!0){var l=o.value;"UNKNOWN"!==l.city&&t.push({value:l.count,name:l.city})}}catch(t){n=!0,i=t}finally{try{!e&&s.return&&s.return()}finally{if(n)throw i}}t.sort(function(t,e){return e.value-t.value}),t.length||t.push({value:1,name:"暂无数据"}),this.option={title:{text:"城市占比",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} 次 ({d}%)"},color:a.i(d.getColors)(),series:[{name:"访问来源",type:"pie",radius:"50%",center:["50%","60%"],data:t.slice(0,30),itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}},watch:{data:function(){this.update()}}}},180:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(11),r=a.n(n),i=a(24),o=a.n(i),s=a(36),l=(a.n(s),a(22)),c=(a.n(l),a(23)),d=(a.n(c),a(17));a.n(d);e.default={props:["data","loading"],components:{ECharts:o.a},data:function(){return{option:null}},created:function(){this.update()},methods:{update:function(){if(this.loading)return!1;var t=[],e=!0,n=!1,i=void 0;try{for(var o,s=r()(this.data);!(e=(o=s.next()).done);e=!0){var l=o.value;"UNKNOWN"!==l.vendor&&t.push({value:l.count,name:l.vendor+" "+l.model})}}catch(t){n=!0,i=t}finally{try{!e&&s.return&&s.return()}finally{if(n)throw i}}t.sort(function(t,e){return e.value-t.value}),t.length||t.push({value:1,name:"暂无数据"}),this.option={title:{text:"设备占比",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} 次 ({d}%)"},color:a.i(d.getColors)(),series:[{name:"访问来源",type:"pie",radius:"50%",center:["50%","60%"],data:t.slice(0,30),itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}},watch:{data:function(){this.update()}}}},181:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(11),r=a.n(n),i=a(59),o=a.n(i),s=a(24),l=a.n(s),c=a(112),d=(a.n(c),a(22)),u=(a.n(d),a(23)),p=(a.n(u),a(121));a.n(p);e.default={props:["data","loading"],components:{ECharts:l.a},data:function(){return{option:null}},created:function(){this.update()},methods:{update:function(){if(this.loading)return!1;var t={time:[],flow:[],request:[]},e=!0,a=!1,n=void 0;try{for(var i,s=r()(this.data);!(e=(i=s.next()).done);e=!0){var l=i.value;t.time.push(l.time),t.flow.push(o.a.round(l.flow/1048576,2)),t.request.push(l.request)}}catch(t){a=!0,n=t}finally{try{!e&&s.return&&s.return()}finally{if(a)throw n}}this.option={title:{text:"流量与请求",textStyle:{color:"#475669",fontWeight:"normal",fontFamily:"Hiragino Sans GB"}},grid:{left:"80px",top:"80px",bottom:"40px",right:"80px"},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#99A9BF"}}},legend:{data:["流量","请求量"],textStyle:{color:"#475669",fontFamily:"Hiragino Sans GB"}},xAxis:[{type:"category",data:t.time,axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"流量",axisLabel:{formatter:"{value} MB"},textStyle:{color:"#475669",fontFamily:"Hiragino Sans GB"}},{type:"value",name:"请求量",splitLine:{show:!1},axisLabel:{formatter:"{value} 次"},textStyle:{color:"#475669",fontFamily:"Hiragino Sans GB"}}],series:[{name:"流量",type:"bar",itemStyle:{normal:{color:"rgba(32, 160, 255, 0.8)"}},data:t.flow},{name:"请求量",type:"bar",itemStyle:{normal:{color:"rgba(19, 206, 102, 0.8)"}},yAxisIndex:1,data:t.request}]}}},watch:{data:function(){this.update()}}}},182:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(11),r=a.n(n),i=a(24),o=a.n(i),s=a(36),l=(a.n(s),a(22)),c=(a.n(l),a(23)),d=(a.n(c),a(17));a.n(d);e.default={props:["data","loading"],components:{ECharts:o.a},data:function(){return{option:null}},created:function(){this.update()},methods:{update:function(){if(this.loading)return!1;var t=[],e=!0,n=!1,i=void 0;try{for(var o,s=r()(this.data);!(e=(o=s.next()).done);e=!0){var l=o.value;"UNKNOWN"!==l.isp&&t.push({value:l.count,name:l.isp})}}catch(t){n=!0,i=t}finally{try{!e&&s.return&&s.return()}finally{if(n)throw i}}t.sort(function(t,e){return e.value-t.value}),t.length||t.push({value:1,name:"暂无数据"}),this.option={title:{text:"运营商占比",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} 次 ({d}%)"},color:a.i(d.getColors)(),series:[{name:"访问来源",type:"pie",radius:"50%",center:["50%","60%"],data:t.slice(0,30),itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}},watch:{data:function(){this.update()}}}},183:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(11),r=a.n(n),i=a(24),o=a.n(i),s=a(36),l=(a.n(s),a(22)),c=(a.n(l),a(23)),d=(a.n(c),a(17));a.n(d);e.default={props:["data","loading"],components:{ECharts:o.a},data:function(){return{option:null}},created:function(){this.update()},methods:{update:function(){if(this.loading)return!1;var t=[],e=!0,n=!1,i=void 0;try{for(var o,s=r()(this.data);!(e=(o=s.next()).done);e=!0){var l=o.value;"UNKNOWN"!==l.name&&t.push({value:l.count,name:l.name+" "+l.version})}}catch(t){n=!0,i=t}finally{try{!e&&s.return&&s.return()}finally{if(n)throw i}}t.sort(function(t,e){return e.value-t.value}),t.length||t.push({value:1,name:"暂无数据"}),this.option={title:{text:"操作系统占比",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} 次 ({d}%)"},color:a.i(d.getColors)(),series:[{name:"访问来源",type:"pie",radius:"50%",center:["50%","60%"],data:t.slice(0,30),itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}},watch:{data:function(){this.update()}}}},184:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(11),r=a.n(n),i=a(24),o=a.n(i),s=a(36),l=(a.n(s),a(22)),c=(a.n(l),a(23)),d=(a.n(c),a(17));a.n(d);e.default={props:["data","loading"],components:{ECharts:o.a},data:function(){return{option:null}},created:function(){this.update()},methods:{update:function(){if(this.loading)return!1;var t=[],e=!0,n=!1,i=void 0;try{for(var o,s=r()(this.data);!(e=(o=s.next()).done);e=!0){var l=o.value;"UNKNOWN"!==l.region&&t.push({value:l.count,name:l.region})}}catch(t){n=!0,i=t}finally{try{!e&&s.return&&s.return()}finally{if(n)throw i}}t.sort(function(t,e){return e.value-t.value}),t.length||t.push({value:1,name:"暂无数据"}),this.option={title:{text:"省份占比",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} 次 ({d}%)"},color:a.i(d.getColors)(),series:[{name:"访问来源",type:"pie",radius:"50%",center:["50%","60%"],data:t.slice(0,30),itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}},watch:{data:function(){this.update()}}}},185:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(11),r=a.n(n),i=a(59),o=a.n(i),s=a(24),l=a.n(s),c=a(1),d=a.n(c),u=a(112),p=(a.n(u),a(245)),f=(a.n(p),a(22)),h=(a.n(f),a(23)),m=(a.n(h),a(121));a.n(m);e.default={props:["data","loading"],components:{ECharts:l.a},data:function(){return{option:null}},created:function(){this.update()},methods:{update:function(){if(this.loading)return!1;var t={time:[],speed:[]},e=!0,a=!1,n=void 0;try{for(var i,s=r()(this.data);!(e=(i=s.next()).done);e=!0){var l=i.value;t.time.push(l.time),t.speed.push(o.a.round(l.value/1e3,2))}}catch(t){a=!0,n=t}finally{try{!e&&s.return&&s.return()}finally{if(a)throw n}}this.option={title:{text:"峰值速率",textStyle:{color:"#475669",fontWeight:"normal",fontFamily:"Hiragino Sans GB"}},grid:{left:"80px",top:"80px",bottom:"40px",right:"80px"},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#99A9BF"}}},xAxis:[{type:"category",boundaryGap:!1,data:t.time,axisPointer:{type:"shadow"}}],yAxis:[{type:"value",axisLabel:{formatter:"{value} Mbps"},textStyle:{color:"#475669",fontFamily:"Hiragino Sans GB"}}],series:[{name:"速率",type:"line",smooth:!0,symbol:"none",sampling:"average",itemStyle:{normal:{color:"#20A0FF"}},areaStyle:{normal:{color:new d.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#1D8CE0"},{offset:1,color:"#58B7FF"}])}},data:t.speed}]}}},watch:{data:function(){this.update()}}}},186:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(43),r=a.n(n),i=a(31),o=a(16);e.default={computed:r()({activeIndex:function(){return this.$route.meta.navbar_active}},a.i(i.a)(["profile","config"])),methods:{handleSelect:function(t){"github"===t?this.config.github&&(window.location.href=this.config.github):"logout"===t?a.i(o.a)("/api/wechat/logout",{method:"POST"}):this.$router.push({name:t})}}}},187:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(16);e.default={props:["user_id","proxy_id"],data:function(){return{proxies:[],loading:!1,input:this.proxy_id?Number(this.proxy_id):void 0}},created:function(){this.fetchProxies()},methods:{fetchProxies:function(){var t=this,e=this.user_id;if(!e)return!1;this.loading=!0,a.i(n.a)("/api/proxies",{query:{user_id:e}}).then(function(e){t.loading=!1,t.proxies=e.data}).catch(function(){t.proxies=[],t.loading=!1})},handleChange:function(t){this.$emit("choise",t)}},watch:{user_id:function(){this.fetchProxies()},proxy_id:function(){this.input=this.proxy_id?Number(this.proxy_id):void 0}}}},188:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(11),r=a.n(n),i=a(16);e.default={props:["value","disabled"],data:function(){return{input:this.value}},watch:{value:function(t){this.input=t}},methods:{featchUser:function(t,e){a.i(i.a)("/api/users",{query:{key:t}}).then(function(t){var a=!0,n=!1,i=void 0;try{for(var o,s=r()(t.data);!(a=(o=s.next()).done);a=!0){var l=o.value;l.value=l.name+"("+l.user_id+")"}}catch(t){n=!0,i=t}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}e(t.data.slice(0,5))})},handleSelect:function(t){this.input=t.user_id,this.$emit("choise",t.user_id)}}}},189:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(42),r=a.n(n),i=a(43),o=a.n(i),s=a(31),l=a(17),c=(a.n(l),a(94)),d=a.n(c),u=a(136),p=a.n(u),f=a(16);e.default={components:{UserChoise:d.a,ProxyChoise:p.a},data:function(){return{date:[new Date,new Date],data:[],tab:"slow",pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}},loading:!1}},computed:o()({user_id:function(){return this.$route.query.user_id||this.profile.user_id},proxy_id:function(){return this.$route.query.proxy_id}},a.i(s.a)(["profile"])),created:function(){this.fetchData()},methods:{userChoise:function(t){this.$router.push({query:{user_id:t}}),this.fetchData()},proxyChoise:function(t){var e=r()({},this.$route.query,{proxy_id:t});this.$router.push({query:e}),this.fetchData()},fetchData:function(){var t=this;if(!this.date||!this.date.length)return!1;var e={end_day:a.i(l.getDiffDays)(this.date[0])+1,start_day:a.i(l.getDiffDays)(this.date[1]),user_id:this.user_id,proxy_id:this.proxy_id};this.data=[],this.loading=!0,a.i(f.a)("/api/logs/"+this.tab,{query:e}).then(function(e){var a=e.data;t.loading=!1,t.data=a}).catch(function(){t.loading=!1})}}}},190:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(42),r=a.n(n),i=a(43),o=a.n(i),s=a(31),l=a(17),c=(a.n(l),a(16));e.default={data:function(){var t=this,e=function(t,e,n){var r=new Error("请输入有效的域名");a.i(l.isDomain)(e)?n():n(r)},n=function(t,e,n){var r=new Error("请输入有效的 IP 或域名");a.i(l.isDomain)(e)||a.i(l.isIP)(e)?n():n(r)},r=function(t,e,n){var r=new Error("请输入有效的 IP 或域名");!e||a.i(l.isDomain)(e)||a.i(l.isIP)(e)?n():n(r)};return{form:{mark:"",domain:"",target_type:"HTTP",target_domain:"",target_port:"80",hostname:"",ssl:{uploaded:!1,cert:"",key:""},proxy_type:"HTTP_ONLY",is_enabled:!0},rules:{mark:[{required:!0,message:"请输入代理名称",trigger:"change"}],domain:[{required:!0,message:"请输入访问域名",trigger:"change"},{validator:e,trigger:"change"}],target_type:[{required:!0,message:"请选择回源协议",trigger:"change"}],target_domain:[{required:!0,message:"请输入回源地址",trigger:"change"},{validator:n,trigger:"change"}],target_port:[{required:!0,message:"请输入回源端口",trigger:"change"},{validator:function(t,e,n){var r=new Error("请输入有效的端口");a.i(l.isPort)(e)?n():n(r)},trigger:"change"}],hostname:[{validator:r,trigger:"change"}],proxy_type:[{required:!0,message:"请选择代理方式",trigger:"change"},{validator:function(e,a,n){var r=t.form.ssl;-1!==["HTTPS_ONLY","BOTH"].indexOf(a)&&(r.uploaded||r.cert&&r.key||n(new Error("请先填写证书与密钥"))),n()},trigger:"change"}],is_enabled:[{type:"boolean",required:!0,message:"请选择是否启用",trigger:"change"}]},loading:{fetch:!1,submit:!1}}},computed:o()({proxy_id:function(){return this.$route.params.proxy_id}},a.i(s.a)(["config","profile"])),created:function(){this.fetchProxy(this.proxy_id)},methods:{fetchProxy:function(t){var e=this;if(!t)return!1;this.loading.fetch=!0,a.i(c.a)("/api/proxies/"+t).then(function(t){var a=t.data.target.split(":",2),n="HTTP"===t.data.target_type?"80":"443";t.data.target_domain=a[0],t.data.target_port=a[1]||n,t.data.ssl.cert=t.data.ssl.key="",e.config.https_port||(t.data.proxy_type="HTTP_ONLY"),e.form=t.data,e.loading.fetch=!1}).catch(function(){e.loading.fetch=!1})},setDefaultTargetPort:function(t){"HTTP"===t&&"443"===this.form.target_port?this.form.target_port="80":"HTTPS"===t&&"80"===this.form.target_port&&(this.form.target_port="443")},onSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return t.$notify.error({title:"错误",message:"请检查表单是否填写完整"}),!1;t.loading.submit=!0;var n="POST",i="/api/proxies",o=r()({},t.form);"HTTP"===o.target_type&&"80"===o.target_port?o.target=o.target_domain:"HTTPS"===o.target_type&&"443"===o.target_port?o.target=o.target_domain:o.target=o.target_domain+":"+o.target_port,o.hostname=o.hostname||o.domain,o.user_id=t.$route.query.user_id,t.proxy_id&&(n="PUT",i="/api/proxies/"+t.proxy_id),a.i(c.a)(i,{method:n,body:o}).then(function(e){t.loading.submit=!1;var a="POST"===n?"添加":"更新";t.$message.success("已成功"+a+" 【"+o.mark+"】"),t.$router.push({name:"proxies",query:t.$route.query})}).catch(function(){t.loading.submit=!1})})}}}},191:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(11),r=a.n(n),i=a(43),o=a.n(i),s=a(31),l=a(16),c=a(94),d=a.n(c);e.default={components:{UserChoise:d.a},data:function(){return{loading:!1,proxies:[]}},computed:o()({user_id:function(){return this.$route.query.user_id||this.profile.user_id}},a.i(s.a)(["config","profile"])),created:function(){this.fetchProxies()},methods:{fetchProxies:function(){var t=this;this.loading=!0;var e=this.user_id;a.i(l.a)("/api/proxies",{query:{user_id:e}}).then(function(e){t.loading=!1;var a=!0,n=!1,i=void 0;try{for(var o,s=r()(e.data);!(a=(o=s.next()).done);a=!0){var l=o.value;l.target_url=l.target_type.toLowerCase()+"://"+l.target,"HTTP_ONLY"===l.proxy_type?(l.proxy_type_name="HTTP 访问",l.proxy_url="http://"+l.domain,80!==Number(t.config.http_port)&&(l.proxy_url+=":"+t.config.http_port)):("HTTPS_ONLY"===l.proxy_type?l.proxy_type_name="HTTPS 访问":l.proxy_type_name="HTTP 或 HTTPS",l.proxy_url="https://"+l.domain,Number(443!==t.config.https_port)&&(l.proxy_url+=":"+t.config.https_port))}}catch(t){n=!0,i=t}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}t.proxies=e.data}).catch(function(){t.loading=!1})},userChoise:function(t){this.$router.push({query:{user_id:t}})},removeProxies:function(t,e){var n=this,r=e[t];this.$confirm("你确定要删除 【"+r.mark+"】 吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",confirmButtonClass:"el-button--danger",type:"warning"}).then(function(){a.i(l.a)("/api/proxies/"+r.proxy_id,{method:"DELETE"}).then(function(a){e.splice(t,1),n.$message.success("已成功删除 【"+r.mark+"】")})})}},watch:{$route:function(){this.fetchProxies()}}}},192:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(42),r=a.n(n),i=a(43),o=a.n(i),s=a(31),l=a(17),c=(a.n(l),a(94)),d=a.n(c),u=a(136),p=a.n(u),f=a(344),h=a.n(f),m=a(348),g=a.n(m),v=a(347),_=a.n(v),y=a(342),x=a.n(y),b=a(345),w=a.n(b),C=a(341),P=a.n(C),T=a(343),k=a.n(T),S=a(346),O=a.n(S),$=a(16);e.default={components:{UserChoise:d.a,ProxyChoise:p.a,FlowChart:h.a,SpeedChart:g.a,RegionChart:_.a,CityChart:x.a,IspChart:w.a,BrowserChart:P.a,DeviceChart:k.a,OsChart:O.a},data:function(){return{date:[new Date,new Date],pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}},data:{flow:[],speed:[],region:[],city:[],isp:[],device:[],os:[],browser:[]},loading:{flow:!1,speed:!1,region:!1,city:!1,isp:!1,device:!1,os:!1,browser:!1}}},created:function(){this.fetchAllData()},computed:o()({user_id:function(){return this.$route.query.user_id||this.profile.user_id},proxy_id:function(){return this.$route.query.proxy_id}},a.i(s.a)(["profile"])),methods:{userChoise:function(t){this.$router.push({query:{user_id:t}}),this.fetchAllData()},proxyChoise:function(t){var e=r()({},this.$route.query,{proxy_id:t});this.$router.push({query:e}),this.fetchAllData()},fetchAllData:function(){if(!this.date||!this.date.length)return!1;for(var t in this.data)this.fetchData(t)},fetchData:function(t){var e=this,n={end_day:a.i(l.getDiffDays)(this.date[0])+1,start_day:a.i(l.getDiffDays)(this.date[1]),user_id:this.user_id,proxy_id:this.proxy_id};this.data[t]=[],this.loading[t]=!0,a.i($.a)("/api/stats/"+t,{query:n}).then(function(a){var n=a.data;e.loading[t]=!1,e.data[t]=n}).catch(function(){e.loading[t]=!1})}}}},193:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(42),r=a.n(n),i=a(11),o=a.n(i),s=a(16);e.default={data:function(){return{loading:!1,filter:"",users:[]}},computed:{data:function(){var t=new RegExp(this.filter),e=["user_id","name","mobile","email"];return this.users.filter(function(a){var n=!0,r=!1,i=void 0;try{for(var s,l=o()(e);!(n=(s=l.next()).done);n=!0){if(a[s.value].match(t))return!0}}catch(t){r=!0,i=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw i}}return!1})}},created:function(){this.fetchUsers()},methods:{fetchUsers:function(){var t=this;this.loading=!0,a.i(s.a)("/api/users").then(function(e){t.loading=!1,t.users=e.data}).catch(function(){t.loading=!1})},updateUser:function(t,e){var n=this;a.i(s.a)("/api/users/"+t.user_id,{method:"PUT",body:e}).then(function(a){r()(t,e),n.$message.success("修改成功")})},changeRole:function(t,e){var a="admin"===e;this.updateUser(t,{is_admin:a})},changeState:function(t,e){var a="lock"===e;this.updateUser(t,{is_locked:a})}}}},24:function(t,e,a){a(320);var n=a(4)(a(176),a(356),null,null);t.exports=n.exports},318:function(t,e){},319:function(t,e){},320:function(t,e){},321:function(t,e){},322:function(t,e){},323:function(t,e){},324:function(t,e){},325:function(t,e){},326:function(t,e){},327:function(t,e){},328:function(t,e){},329:function(t,e){},330:function(t,e){},331:function(t,e){},332:function(t,e){},333:function(t,e){},341:function(t,e,a){a(321);var n=a(4)(a(178),a(357),"data-v-0eec290a",null);t.exports=n.exports},342:function(t,e,a){a(324);var n=a(4)(a(179),a(360),"data-v-3990590e",null);t.exports=n.exports},343:function(t,e,a){a(329);var n=a(4)(a(180),a(366),"data-v-72888564",null);t.exports=n.exports},344:function(t,e,a){a(330);var n=a(4)(a(181),a(368),"data-v-9e2cbc88",null);t.exports=n.exports},345:function(t,e,a){a(325);var n=a(4)(a(182),a(361),"data-v-3c582730",null);t.exports=n.exports},346:function(t,e,a){a(323);var n=a(4)(a(183),a(359),"data-v-21ed28f2",null);t.exports=n.exports},347:function(t,e,a){a(327);var n=a(4)(a(184),a(363),"data-v-6557e1fc",null);t.exports=n.exports},348:function(t,e,a){a(328);var n=a(4)(a(185),a(364),"data-v-666ba129",null);t.exports=n.exports},349:function(t,e,a){a(333);var n=a(4)(a(186),a(372),"data-v-db330e68",null);t.exports=n.exports},350:function(t,e,a){a(319);var n=a(4)(a(189),a(355),"data-v-041bde00",null);t.exports=n.exports},351:function(t,e,a){a(326);var n=a(4)(a(190),a(362),"data-v-556f003b",null);t.exports=n.exports},352:function(t,e,a){a(331);var n=a(4)(a(191),a(369),"data-v-cbae7e1e",null);t.exports=n.exports},353:function(t,e,a){a(322);var n=a(4)(a(192),a(358),"data-v-1b759cc4",null);t.exports=n.exports},354:function(t,e,a){a(332);var n=a(4)(a(193),a(370),"data-v-d0111226",null);t.exports=n.exports},355:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logs"},[a("div",{staticClass:"topbar"},[a("user-choise",{attrs:{value:t.user_id,disabled:!t.profile.is_admin},on:{choise:t.userChoise}}),t._v(" "),a("proxy-choise",{attrs:{user_id:t.user_id,proxy_id:t.proxy_id},on:{choise:t.proxyChoise}}),t._v(" "),a("el-date-picker",{staticClass:"date",attrs:{type:"daterange","picker-options":t.pickerOptions,placeholder:"选择日期范围"},on:{change:t.fetchData},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),a("el-tabs",{staticClass:"content",attrs:{type:"card"},on:{"tab-click":t.fetchData},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("el-tab-pane",{attrs:{label:"慢请求",name:"slow"}},["slow"===t.tab?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.data,stripe:""}},[a("el-table-column",{attrs:{align:"center",prop:"method",label:"方法",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"path",label:"地址"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"cost",label:"平均耗时",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.cost.toFixed(2))+" ms\n          ")]}}])})],1):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"错误请求",name:"error"}},["error"===t.tab?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.data,stripe:""}},[a("el-table-column",{attrs:{align:"center",prop:"method",label:"方法",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"path",label:"地址"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",label:"状态码",width:"100",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"count",label:"计次",width:"100",sortable:""}})],1):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"热门请求",name:"hot"}},["hot"===t.tab?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.data,stripe:""}},[a("el-table-column",{attrs:{align:"center",prop:"method",label:"方法",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"path",label:"地址"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"count",label:"计次",width:"100"}})],1):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"热门IP",name:"hot_ip"}},["hot_ip"===t.tab?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.data,stripe:""}},[a("el-table-column",{attrs:{align:"center",prop:"ip",label:"IP",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"region",label:"地区",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"city",label:"城市",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"count",label:"计次",sortable:""}})],1):t._e()],1)],1)],1)},staticRenderFns:[]}},356:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"echarts"})},staticRenderFns:[]}},357:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"status"},[!t.loading&&t.option?a("e-charts",{attrs:{options:t.option}}):t._e()],1)},staticRenderFns:[]}},358:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stats"},[a("div",{staticClass:"topbar"},[a("user-choise",{attrs:{value:t.user_id,disabled:!t.profile.is_admin},on:{choise:t.userChoise}}),t._v(" "),a("proxy-choise",{attrs:{user_id:t.user_id,proxy_id:t.proxy_id},on:{choise:t.proxyChoise}}),t._v(" "),a("el-date-picker",{staticClass:"date",attrs:{type:"daterange","picker-options":t.pickerOptions,placeholder:"选择日期范围"},on:{change:t.fetchAllData},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),a("div",{staticClass:"charts"},[a("flow-chart",{attrs:{data:t.data.flow,loading:t.loading.flow}}),t._v(" "),a("speed-chart",{attrs:{data:t.data.speed,loading:t.loading.speed}}),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("region-chart",{attrs:{data:t.data.region,loading:t.loading.region}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("city-chart",{attrs:{data:t.data.city,loading:t.loading.city}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("isp-chart",{attrs:{data:t.data.isp,loading:t.loading.isp}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("device-chart",{attrs:{data:t.data.device,loading:t.loading.device}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("os-chart",{attrs:{data:t.data.os,loading:t.loading.os}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("browser-chart",{attrs:{data:t.data.browser,loading:t.loading.browser}})],1)],1)],1)])},staticRenderFns:[]}},359:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"os"},[!t.loading&&t.option?a("e-charts",{attrs:{options:t.option}}):t._e()],1)},staticRenderFns:[]}},360:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"city"},[!t.loading&&t.option?a("e-charts",{attrs:{options:t.option}}):t._e()],1)},staticRenderFns:[]}},361:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"isp"},[!t.loading&&t.option?a("e-charts",{attrs:{options:t.option}}):t._e()],1)},staticRenderFns:[]}},362:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.fetch,expression:"loading.fetch"}],ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"代理名称",prop:"mark"}},[a("el-input",{attrs:{placeholder:"反向代理名称，便于识别与区分"},model:{value:t.form.mark,callback:function(e){t.form.mark=e},expression:"form.mark"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"访问域名",prop:"domain"}},[a("el-input",{attrs:{placeholder:"用作反向代理的域名，如：example.com"},model:{value:t.form.domain,callback:function(e){t.form.domain=e},expression:"form.domain"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"回源地址",required:""}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"target_type"}},[a("el-select",{attrs:{placeholder:"回源协议"},on:{change:t.setDefaultTargetPort},model:{value:t.form.target_type,callback:function(e){t.form.target_type=e},expression:"form.target_type"}},[a("el-option",{attrs:{label:"http://",value:"HTTP"}}),t._v(" "),a("el-option",{attrs:{label:"https://",value:"HTTPS"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"target_domain"}},[a("el-input",{attrs:{placeholder:"IP 或域名"},model:{value:t.form.target_domain,callback:function(e){t.form.target_domain=e},expression:"form.target_domain"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"target_port"}},[a("el-input",{attrs:{type:"number",placeholder:"端口"},model:{value:t.form.target_port,callback:function(e){t.form.target_port=e},expression:"form.target_port"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"回源 Host",prop:"hostname"}},[a("el-input",{attrs:{placeholder:"HTTP Header 中的 Host，默认为访问域名"},model:{value:t.form.hostname,callback:function(e){t.form.hostname=e},expression:"form.hostname"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.config.https_port,expression:"config.https_port"}],attrs:{label:"HTTPS 证书"}},[a("el-input",{attrs:{type:"textarea",placeholder:t.form.ssl.uploaded?"已上传证书，如需更换请输入新证书":"请填写证书，可选"},model:{value:t.form.ssl.cert,callback:function(e){t.form.ssl.cert=e},expression:"form.ssl.cert"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.config.https_port,expression:"config.https_port"}],attrs:{label:"HTTPS 密钥"}},[a("el-input",{attrs:{type:"textarea",placeholder:t.form.ssl.uploaded?"已上传密钥，如需更换请输入新密钥":"请填写密钥，可选"},model:{value:t.form.ssl.key,callback:function(e){t.form.ssl.key=e},expression:"form.ssl.key"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.config.https_port,expression:"config.https_port"}],attrs:{label:"访问方式",prop:"proxy_type"}},[a("el-radio-group",{model:{value:t.form.proxy_type,callback:function(e){t.form.proxy_type=e},expression:"form.proxy_type"}},[a("el-radio",{attrs:{label:"HTTP_ONLY"}},[t._v("仅 HTTP")]),t._v(" "),a("el-radio",{attrs:{label:"HTTPS_ONLY"}},[t._v("仅 HTTPS")]),t._v(" "),a("el-radio",{attrs:{label:"BOTH"}},[t._v("HTTP 或 HTTPS")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"是否启用",prop:"is_enabled"}},[a("el-switch",{attrs:{"on-text":"开","off-text":"关"},model:{value:t.form.is_enabled,callback:function(e){t.form.is_enabled=e},expression:"form.is_enabled"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:t.loading.submit},on:{click:t.onSubmit}},[t._v("\n      "+t._s(this.proxy_id?"提交更新":"立即创建")+"\n    ")]),t._v(" "),a("router-link",{directives:[{name:"show",rawName:"v-show",value:!t.loading.submit,expression:"!loading.submit"}],attrs:{to:{name:"proxies",query:t.$route.query}}},[a("el-button",[t._v("取消")])],1)],1)],1)},staticRenderFns:[]}},363:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"region"},[!t.loading&&t.option?a("e-charts",{attrs:{options:t.option}}):t._e()],1)},staticRenderFns:[]}},364:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"speed"},[!t.loading&&t.option?a("e-charts",{attrs:{options:t.option}}):t._e()],1)},staticRenderFns:[]}},365:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),t._v(" "),a("div",{staticClass:"container"},[a("router-view")],1)],1)},staticRenderFns:[]}},366:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"device"},[!t.loading&&t.option?a("e-charts",{attrs:{options:t.option}}):t._e()],1)},staticRenderFns:[]}},367:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{filterable:!0,clearable:!0,placeholder:"请选择代理"},on:{change:t.handleChange},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},t._l(t.proxies,function(t){return a("el-option",{key:t.proxy_id,attrs:{label:t.mark,value:t.proxy_id}})}))},staticRenderFns:[]}},368:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"flow"},[!t.loading&&t.option?a("e-charts",{attrs:{options:t.option}}):t._e()],1)},staticRenderFns:[]}},369:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"topbar"},[a("user-choise",{attrs:{value:t.user_id,disabled:!t.profile.is_admin},on:{choise:t.userChoise}}),t._v(" "),a("router-link",{attrs:{to:{name:"proxies-add",query:{user_id:t.user_id}}}},[a("el-button",{attrs:{type:"primary",icon:"fa-plus"}},[t._v("添加")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.proxies,stripe:"",border:""}},[a("el-table-column",{attrs:{align:"center",label:"状态","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[t.row.is_enabled?a("i",{staticClass:"el-icon-fa-toggle-on"}):a("i",{staticClass:"el-icon-fa-toggle-off"})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"mark",label:"名称","min-width":"160",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"proxy_type_name",label:"访问方式","min-width":"160",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"domain",label:"访问域名","min-width":"220",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:e.row.proxy_url,target:"_blank"}},[t._v(t._s(e.row.domain))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"回源地址","min-width":"200",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:e.row.target_url,target:"_blank"}},[t._v(t._s(e.row.target))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:{name:"stats",query:{user_id:t.user_id,proxy_id:e.row.proxy_id}}}},[a("el-button",{attrs:{size:"small",type:"info"}},[t._v("统计")])],1),t._v(" "),a("router-link",{attrs:{to:{name:"logs",query:{user_id:t.user_id,proxy_id:e.row.proxy_id}}}},[a("el-button",{attrs:{size:"small",type:"info"}},[t._v("日志")])],1),t._v(" "),a("router-link",{attrs:{to:{name:"proxies-edit",params:{proxy_id:e.row.proxy_id},query:{user_id:t.user_id}}}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("编辑")])],1),t._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){t.removeProxies(e.$index,t.proxies)}}},[t._v("删除")])]}}])})],1)],1)},staticRenderFns:[]}},370:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{attrs:{icon:"fa-filter",placeholder:"请输入内容"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.data,stripe:"",border:""}},[a("el-table-column",{attrs:{align:"center","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticClass:"avatar",attrs:{src:t.row.avatar,alt:t.row.name}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"user_id",label:"ID","min-width":"120",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:"姓名","min-width":"120",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"gender",label:"性别","min-width":"100",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"mobile",label:"电话","min-width":"160",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"email",label:"邮箱","min-width":"200",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"is_admin",label:"角色","min-width":"100",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{on:{command:function(a){t.changeRole(e.row,arguments[0])}}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n            "+t._s(e.row.is_admin?"管理员":"用户")+"\n            "),a("i",{staticClass:"el-icon-fa-caret-down"})]),t._v(" "),a("el-dropdown-menu",{slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"user"},on:{command:t.changeRole}},[t._v("用户")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"admin"}},[t._v("管理员")])],1)],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"is_locked",label:"状态","min-width":"100",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{on:{command:function(a){t.changeState(e.row,arguments[0])}}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n            "+t._s(e.row.is_locked?"禁用":"正常")+"\n            "),a("i",{staticClass:"el-icon-fa-caret-down"})]),t._v(" "),a("el-dropdown-menu",{slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"normal"}},[t._v("正常")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"lock"}},[t._v("禁用")])],1)],1)]}}])})],1)],1)},staticRenderFns:[]}},371:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-autocomplete",{attrs:{"fetch-suggestions":t.featchUser,disabled:t.disabled,placeholder:"请输入用户名",icon:"fa-user"},on:{select:t.handleSelect},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})},staticRenderFns:[]}},372:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar"},[a("div",{staticClass:"container"},[a("el-menu",{attrs:{theme:"dark",mode:"horizontal","default-active":t.activeIndex},on:{select:t.handleSelect}},[a("el-menu-item",{attrs:{index:"proxies"}},[t._v("代理列表")]),t._v(" "),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:t.profile.is_admin,expression:"profile.is_admin"}],attrs:{index:"users"}},[t._v("用户管理")]),t._v(" "),a("el-menu-item",{attrs:{index:"stats"}},[t._v("统计分析")]),t._v(" "),a("el-menu-item",{attrs:{index:"logs"}},[t._v("日志记录")]),t._v(" "),a("el-submenu",{staticClass:"right",attrs:{index:"me"}},[a("template",{slot:"title"},[t.profile.avatar?a("img",{staticClass:"avatar",attrs:{src:t.profile.avatar}}):a("i",{staticClass:"el-icon-fa-user el-icon-fa-2x"})]),t._v(" "),a("el-menu-item",{attrs:{index:"logout"}},[t._v("注销登录")])],2),t._v(" "),a("el-menu-item",{staticClass:"right",attrs:{index:"github"}},[a("i",{staticClass:"el-icon-fa-github el-icon-fa-2x",attrs:{"aria-hidden":"true"}})])],1)],1)])},staticRenderFns:[]}},94:function(t,e,a){var n=a(4)(a(188),a(371),null,null);t.exports=n.exports}},[175]);
//# sourceMappingURL=app.36ef0458e522a5d2f9fa.js.map